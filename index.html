<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>Speed Quiz Tool</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background: #f4f4f4;
    margin: 0;
  }

  /* 카톡 아이콘 */
  #kakaoBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 64px;
    height: 64px;
    background: #fee500;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    z-index: 1000;
  }

  /* 모달 */
  #quizModal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 2000;
  }

  .quiz-box {
    background: white;
    width: 320px;
    padding: 20px;
    border-radius: 12px;
    text-align: center;
  }

  h2 {
    margin-top: 0;
  }

  button {
    padding: 10px 14px;
    margin-top: 10px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: #222;
    color: white;
  }

  .option {
    background: #eee;
    margin: 8px 0;
    padding: 10px;
    border-radius: 6px;
    cursor: pointer;
  }

  .option:hover {
    background: #ddd;
  }

  .hidden {
    display: none;
  }
</style>
</head>

<body>

<!-- 카카오톡 버튼 -->
<div id="kakaoBtn">QUIZ</div>

<!-- 퀴즈 모달 -->
<div id="quizModal">
  <div class="quiz-box">
    <h2 id="title">Speed Quiz</h2>

    <div id="startScreen">
      <p>60초 안에 최대한 많이 맞히세요!</p>
      <button onclick="startGame()">시작</button>
    </div>

    <div id="gameScreen" class="hidden">
      <p>⏱ <span id="time">60</span>초</p>
      <p id="question"></p>
      <div id="options"></div>
    </div>

    <div id="resultScreen" class="hidden">
      <h3>결과</h3>
      <p>점수: <span id="score"></span></p>
      <button onclick="resetGame()">다시 하기</button>
    </div>
  </div>
</div>

<script>
  const questions = [
    { q: "대한민국의 수도는?", a: ["서울", "부산", "대구"], c: 0 },
    { q: "3 + 5 =", a: ["6", "8", "10"], c: 1 },
    { q: "HTML은?", a: ["언어", "마크업", "DB"], c: 1 },
    { q: "CSS 역할은?", a: ["연산", "디자인", "서버"], c: 1 }
  ];

  let time = 60;
  let score = 0;
  let timer;
  let current;

  const modal = document.getElementById("quizModal");
  const kakaoBtn = document.getElementById("kakaoBtn");

  kakaoBtn.onclick = () => modal.style.display = "flex";

  function startGame() {
    score = 0;
    time = 60;
    document.getElementById("startScreen").classList.add("hidden");
    document.getElementById("gameScreen").classList.remove("hidden");
    nextQuestion();
    timer = setInterval(tick, 1000);
  }

  function tick() {
    time--;
    document.getElementById("time").textContent = time;
    if (time <= 0) endGame();
  }

  function nextQuestion() {
    current = questions[Math.floor(Math.random() * questions.length)];
    document.getElementById("question").textContent = current.q;
    const options = document.getElementById("options");
    options.innerHTML = "";
    current.a.forEach((text, i) => {
      const div = document.createElement("div");
      div.className = "option";
      div.textContent = text;
      div.onclick = () => selectAnswer(i);
      options.appendChild(div);
    });
  }

  function selectAnswer(i) {
    if (i === current.c) score++;
    nextQuestion();
  }

  function endGame() {
    clearInterval(timer);
    document.getElementById("gameScreen").classList.add("hidden");
    document.getElementById("resultScreen").classList.remove("hidden");
    document.getElementById("score").textContent = score;
  }

  function resetGame() {
    document.getElementById("resultScreen").classList.add("hidden");
    document.getElementById("startScreen").classList.remove("hidden");
  }
</script>

</body>
</html>
